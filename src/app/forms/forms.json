{
    "type": "opensaberLayoutSchema",
    "version": "0.1",
    "forms": [
        {
            "institute-signup": {
                "api": "/Institute/invite",
                "type": "entity",
                "formclass":"row",
                "title": "Sign up / Create new account",
                "fieldsets": [
                    {
                        "definition": "Institute",
                        "fields": [
                            {
                                "name": "instituteName",
                                "required": true
                            },
                            {
                                "name": "email",
                                "required": true
                            }
                        ]
                    }
                ],
                "redirectTo":"/profile/institute"
            }
        },
        
        {
            "institute-setup-short": {
                "api": "/Institute",
                "type": "entity",
                "title": "Institute Setup",
                "fieldsets": [
                    {
                        "definition": "Institute",
                        "title": "Basic details",
                        "formclass":"row",
                        "fields": [
                            {
                                "name": "instituteName",
                                "required": true
                            },
                            {
                                "name": "gstnId",
                                "validation":{
                                    "pattern": "^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$",
                                    "message": "GSTIN is not valid. Ex: 06BZAHM6385P6Z2"
                                }
                            },
                            {
                                "name":"adminName",
                                "class": "form-check form-check-inline pl-5"
                            },
                            {
                                "name":"adminEmail",
                                "format": "email",
                                "required": true,
                                "class": "form-check form-check-inline pl-5"
                            },
                            {
                                "name":"address",
                                "children": {
                                    "definition": "Address",
                                    "fields": [
                                        {
                                            "name": "landmark"
                                        },
                                        {
                                            "name":"locality"
                                        },
                                        {
                                            "name":"state",
                                            "required": true
                                        },
                                        {
                                            "name":"district",
                                            "required": true
                                        },
                                        {
                                            "name":"village"
                                        },
                                        {
                                            "name":"pincode",
                                            "required": true
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                ]
            }
        },
        {
            "institute-setup": {
                "api": "/Institute",
                "type": "entity",
                "title": "Institute Setup",
                "fieldsets": [
                    {
                        "definition": "Institute",
                        "title": "Basic details",
                        "fields": ["*"],
                        "except" : ["affiliation"]
                    }
                ],
                "redirectTo":"/profile/institute"
            }
        },
        {
            "affiliation": {
                "api": "/Institute",
                "type": "property:affiliation",
                "title": "Affiliation Details",
                "fieldsets": [
                    {
                        "definition": "Institute",
                        "fields": [
                            {
                                "name":"affiliation"
                            }
                        ]
                    }
                ]
            }
        },
        {
            "teacher-signup": {
                "api": "/Teacher/invite",
                "type": "entity",
                "formclass":"row",
                "title": "Sign up / Create new account",
                "fieldsets": [
                    {
                        "definition": "Teacher",
                        "fields": [
                            {
                                "name":"identityDetails",
                                "children": {
                                    "definition": "IdentityDetails",
                                    "title": false,
                                    "fields": [
                                        {
                                            "name": "fullName",
                                            "required": true
                                        }
                                    ]
                                }
                            },
                            {
                                "name":"contactDetails",
                                "children": {
                                    "definition": "ContactDetails",
                                    "title": false,
                                    "fields": [
                                        {
                                            "name": "email",
                                            "required": true
                                        },
                                        {
                                            "name": "mobile",
                                            "required": true
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                ],
                "redirectTo":"/profile/teacher"
            }
        },
        {
            "teacher-setup": {
                "api": "/Teacher",
                "type": "entity",
                "redirectTo":"/profile/teacher",
                "fieldsets": [
                    {
                        "definition": "Teacher",
                        "fields": [
                            {
                                "name":"contactDetails"
                            },
                            {
                                "name":"identityDetails",
                                "children":{
                                    "definition": "IdentityDetails",
                                    "title": false,
                                    "fields": [
                                        {
                                            "name": "fullName",
                                            "required": true
                                        },
                                        {
                                            "name": "gender",
                                            "required": true
                                        },
                                        {
                                            "name": "dob",
                                            "required": true,
                                            "type": "date"
                                        },
                                        {
                                            "name": "identityType",
                                            "required": true
                                        },
                                        {
                                            "name": "identityValue",
                                            "required": true
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                ]
            }
        },
        {
            "teacher-education": {
                "api": "/Teacher",
                "type": "property:academicQualifications",
                "fieldsets": [
                    {
                        "definition": "Teacher",
                        "fields": [
                            {
                                "name":"academicQualifications"
                            }
                        ]
                    }
                ]
            }
        },
        {
            "teacher-experience": {
                "api": "/Teacher",
                "type": "property:experience",
                "fieldsets": [
                    {
                        "definition": "Teacher",
                        "fields": [
                            {
                                "name":"experience"
                            }
                        ]
                    }
                ]
            }
        },
        {
            "student-signup": {
                "api": "/Student/invite",
                "type": "entity",
                "formclass":"row",
                "title": "Sign up / Create new account",
                "fieldsets": [
                    {
                        "definition": "Student",
                        "fields": [
                            {
                                "name":"above13",
                                "custom":true,
                                "element":{
                                    "title": "Are you above 13?",
                                    "enum": [
                                      "Yes",
                                      "No"
                                    ],
                                    "widget": {
                                      "formlyConfig": {
                                        "type": "radio",
                                        "fieldGroupClassName":"controls",
                                        "className": "radio"
                                      }
                                    }
                                  }
                            },
                            {
                                "name":"identityDetails",
                                "children": {
                                    "definition": "IdentityDetails",
                                    "title": false,
                                    "fields": [
                                        {
                                            "name": "fullName",
                                            "required": true
                                        }
                                    ]
                                }
                            },
                            {
                                "name":"Guardian Full Name",
                                "custom":true,
                                "element":{
                                    "title": "Guardian's Full Name",
                                    "widget": {
                                      "formlyConfig": {
                                        "type": "input",
                                        "fieldGroupClassName":"controls",
                                        "className": "radio",
                                        "expressionProperties": {
                                            "hide": "!model.above13 || model.above13 === 'Yes'"
                                          }
                                      }
                                    }
                                  }
                            },
                            {
                                "name":"contactDetails",
                                "children": {
                                    "definition": "ContactDetails",
                                    "title": false,
                                    "fields": [
                                        {
                                            "name": "email",
                                            "required": true
                                        },
                                        {
                                            "name": "mobile",
                                            "required": true
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                ],
                "redirectTo":"/profile/student"
            }
        },
        {
            "student-setup": {
                "api": "/Student",
                "type": "entity",
                "redirectTo":"/profile/student",
                "fieldsets": [
                    {
                        "definition": "Student",
                        "fields": [
                            {
                                "name":"contactDetails"
                            },
                            {
                                "name":"identityDetails",
                                "children":{
                                    "definition": "IdentityDetails",
                                    "title": false,
                                    "fields": [
                                        {
                                            "name": "fullName",
                                            "required": true
                                        },
                                        {
                                            "name": "gender",
                                            "required": true
                                        },
                                        {
                                            "name": "dob",
                                            "required": true,
                                            "type": "date"
                                        },
                                        {
                                            "name": "identityType",
                                            "required": true
                                        },
                                        {
                                            "name": "identityValue",
                                            "required": true
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                ]
            }
        },
        {
            "student-education": {
                "api": "/Student",
                "type": "property:educationDetails",
                "fieldsets": [
                    {
                        "definition": "Student",
                        "fields": [
                            {
                                "name":"educationDetails"
                            }
                        ]
                    }
                ]
            }
        }
    ]
}