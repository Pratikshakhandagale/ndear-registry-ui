<app-header [headerFor]='header1' [tab]='tab'></app-header>
<div class="container">
    <div class="d-flex flex-justify-between">
        <div>
            <h6 class="d-inline-block">Personal</h6>
            <a data-toggle="modal" data-target="#editProfile" class="pl-1 fs-7 text-primary-color">edit</a>
        </div>
        <a data-toggle="modal" data-target="#addPersonalDetails" class="fs-7 text-primary-color"><i
                class="fa fa-plus pr-1"></i>Personal Details</a>
        <a class="text-end d-block text-primary-color blue-shade-btn" data-toggle="modal"
            data-target="#prewiewProfile">Preview Public Profile</a>
    </div>
    <div class="card">
        <div class="card-body">
            <dl>
                <dt class="fs-7 text-grey-color">Full Name</dt>
                <dd>{{user.fullName}}</dd>
            </dl>
            <ng-template [ngIf]="user.gender || user.dob">
                <dl>
                    <ng-template [ngIf]="user.gender">
                        <dt class="fs-7 text-grey-color">Gender</dt>
                        <dd>{{user.gender}}</dd>
                    </ng-template>
                    <ng-template [ngIf]="user.dob">
                        <dt class="fs-7 text-grey-color">Date of Birth</dt>
                        <dd>{{user.dob.day}}/{{user.dob.month}}/{{user.dob.year}}
                            <i class="fa fa-check-circle text-success"></i>
                        </dd>
                    </ng-template>
                </dl>
            </ng-template>
            <dl>
                <dt class="fs-7 text-grey-color">Email/Mobile</dt>
                <dd>{{user.mobileEmail}}
                    <i class="fa fa-check-circle text-success"></i>
                </dd>
            </dl>
            <ng-template [ngIf]="user.address">
                <dl>
                    <dt class="fs-7 text-grey-color">Address</dt>
                    <dd>{{user.address}}</dd>
                </dl>
            </ng-template>
        </div>
    </div>
    <div class="d-flex flex-justify-between mt-5">
        <div>
            <h6 class="d-inline-block">ID Details</h6>
            <!-- <a class="pl-1 fs-7 text-primary-color">edit</a> -->
        </div>
        <a href="#" class="fs-7 text-primary-color"><i class="fa fa-plus pr-1"></i>ID</a>
    </div>
    <div class="card">
        <div class="card-body">
            <!-- <dl>
                <dt class="fs-7 text-grey-color">Aadhar Number</dt>
                <dd>*******91 <i class="fa fa-check-circle text-success"></i></dd>
                <dt class="fs-7 text-grey-color">PAN</dt>
                <dd>*******91 <i class="fa fa-check-circle text-success"></i></dd>
            </dl>
            <dl>
                <dt class="fs-7 text-grey-color">Professional License</dt>
                <dd>*******91 <i class="fa fa-check-circle text-success"></i></dd>
            </dl> -->
        </div>
    </div>

    <div class="d-flex justify-content-between mt-5">
        <h6  class="d-inline-block">Experience</h6>
        <a data-toggle="modal" data-target="#addExperience" class="fs-7 text-primary-color"><i class="fa fa-plus pr-1"></i>Experience</a>
    </div>
    <div class="card">
        <ng-template ngFor let-item [ngForOf]="experience">
            <div class="card-body">
                <h6>Associate Professor <i class="fa fa-check-circle text-success"></i></h6>
                <div>{{item.institute}} <i class="fa fa-check-circle text-success"></i></div>
                <div *ngIf="!item.working; else elseBlock1">{{item.startdate}} -
                    {{item.enddate}}</div>
                <ng-template #elseBlock1>
                    <div>{{item.startdate}} - Current</div>
                </ng-template>
                <div class="fs-7 text-grey-color">Class: ITI Diploma</div>
                <hr>
            </div>
        </ng-template>
    </div>

    <div class="d-flex justify-content-between mt-5">
        <h6 class="d-inline-block">Education</h6>
        <a data-toggle="modal" data-target="#addEducation" class="fs-7 text-primary-color"><i
                class="fa fa-plus pr-1"></i>Education</a>
    </div>
    <div class="card">
        <div class="card-body">
            <ng-template ngFor let-item [ngForOf]="education" let-i="index" >
                <!-- <a data-toggle="modal" data-target="#editEducation" (click)="modelchange(i)" class="pl-1 fs-7 text-primary-color">edit</a> -->
                <h6>{{item.institute}} 
                    <i [ngClass]="item.attested ? 'fa fa-check-circle text-success' : 'fa fa-exclamation-circle text-warning'" ></i>
                </h6>
                
                <dl>
                    <!-- <dt class="fs-7 text-grey-color">{{item.institute}}</dt> -->
                    
                    <dd *ngIf="item.enddate; else elseBlock">{{item.startdate}} -
                        {{item.enddate}}</dd>
                    <ng-template #elseBlock>
                        <dd>{{item.startdate}} - Current</dd>
                    </ng-template>
                    
                </dl>
                

            </ng-template>
        </div>
    </div>

    <div class="d-flex justify-content-between mt-5">
        <h6 class="d-inline-block">Certification</h6>
        <a href="#" class="fs-7 text-primary-color"><i class="fa fa-plus pr-1"></i>Certification</a>
    </div>
    <div class="card">
        <div class="card-body">
            <!-- <h6>Google IT Automation with Python Professional Certificate</h6>
            <dl>
                <dt class="fs-7 text-grey-color">Coursera</dt>
                <dd>2019</dd>
            </dl> -->
        </div>
    </div>

</div>

<!-- Add Personal Details Modal -->
<div class="modal right fade right-l-modal" id="addPersonalDetails" tabindex="-1" role="dialog"
    aria-labelledby="addPersonalDetails">
    <div class="modal-dialog" role="document">
        <div class="modal-content">

            <div class="modal-header">
                <h5 class="modal-title" id="addPersonalDetails">Add Personal Details to Profile</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
            </div>

            <div class="modal-body">

                <form class="example-container" [formGroup]="editUserform">
                    <div class="" appearance="outline">
                        <label mdbLabel class="form-label fw-normal fs-7" for="gender">Gender</label>
                        <div class="d-inline-block fs-8">(Optional)</div>
                        <select class="form-control" id="gender" mdbValidate formControlName="gender">
                            <option value="Male" selected>Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>

                    <div class="form-group half">
                        <label mdbLabel class="form-label fw-normal fs-7" for="dob">Date of Birth</label>
                        <div class="input-group">

                            <input class="form-control" id="dob" placeholder="yyyy-mm-dd" name="dp" [(ngModel)]="model"
                                formControlName="dob" ngbDatepicker #d="ngbDatepicker" mdbValidate>
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary calendar" (click)="d.toggle()"
                                    type="button"></button>
                            </div>
                        </div>
                    </div>

                    <label mdbLabel class="form-label fw-normal fs-7" for="mobileEmail">Contact Number</label>
                    <div class="d-inline-block fs-8">(Optional)</div>
                    <mdb-form-control>
                        <input mdbInput type="text" id="mobileEmail" class="form-control" formControlName="mobileEmail"
                            mdbValidate />
                    </mdb-form-control>
                    <div id="textExample1" class="form-text my-2">
                        Mobile must include '+91'
                    </div>

                    <div class="form-group">
                        <label mdbLabel class="form-label fw-normal fs-7">Address</label>
                        <div class="d-inline-block fs-8">(Optional)</div>
                        <mdb-form-control>
                            <textarea mdbInput class="form-control" id="textAreaExample" formControlName="address"
                                rows="4"></textarea>
                            <label mdbLabel class="form-label" for="textAreaExample">Full Address</label>
                        </mdb-form-control>
                    </div>

                    <button type="submit" (click)="onEditProfileSubmit()"
                        class="btn btn-primary text-end mt-3 fw-bold text-capitalize" data-dismiss="modal">Save</button>
                </form>
            </div>

        </div>
    </div>
</div>

<!-- Edit Personal Details Modal -->
<div class="modal right fade right-l-modal" id="editProfile" tabindex="-1" role="dialog"
    aria-labelledby="myModalLabel2">
    <div class="modal-dialog" role="document">
        <div class="modal-content h-100vh">

            <div class="modal-header">
                <h5 class="modal-title" id="myModalLabel2">Edit Personal Details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
            </div>

            <div class="modal-body h-100">

                <form class="example-container" [formGroup]="editUserform">
                    <div class="row">
                        <div class="col-md-12">
                            <label mdbLabel class="form-label fw-normal fs-7" for="fullName">Full Name</label>
                            <mdb-form-control>
                                <input mdbInput type="text" id="fullName" class="form-control" mdbValidate
                                    placeholder="" formControlName="fullName" />
                            </mdb-form-control>

                        </div>

                        <div class="col-md-12">
                            <label mdbLabel class="form-label fw-normal fs-7" for="form2">EmailID</label>
                            <mdb-form-control>
                                <input mdbInput type="text" id="mobileEmail" class="form-control" mdbValidate
                                    placeholder="" formControlName="mobileEmail" />
                            </mdb-form-control>
                        </div>
                    </div>
                    <button type="submit" (click)="onEditProfileSubmit()"
                        class="btn btn-primary text-end mt-3 fw-bold text-capitalize" data-dismiss="modal">Save</button>
                </form>
            </div>

        </div>
    </div>
</div>

<!-- Preview Profile Modal -->
<div class="modal right fade right-xl-modal" id="prewiewProfile" tabindex="-1" role="dialog"
    aria-labelledby="prewiewProfile">
    <div class="modal-dialog" role="document">
        <div class="modal-content">

            <div class="modal-header">
                <h6 class="modal-title" id="prewiewProfile">Preview of Public Profile</h6>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
            </div>

            <div class="modal-body">

                <div class="card">
                    <div class="card-body">
                        <dl>
                            <dt class="fs-7 text-grey-color">Full Name</dt>
                            <dd>{{user.fullName}}</dd>
                        
                        </dl>
                        <ng-template [ngIf]="user.gender || user.dob">
                            <dl>
                                <ng-template [ngIf]="user.gender">
                                    <dt class="fs-7 text-grey-color">Gender</dt>
                                    <dd>{{user.gender}}</dd>
                                </ng-template>
                                <ng-template [ngIf]="user.dob">
                                    <dt class="fs-7 text-grey-color">Date of Birth</dt>
                                    <dd>{{user.dob.day}}/{{user.dob.month}}/{{user.dob.year}}
                                        <i class="fa fa-check-circle text-success"></i>
                                    </dd>
                                </ng-template>
                            </dl>
                        </ng-template>
                        <dl>
                            <dt class="fs-7 text-grey-color">Email/Mobile</dt>
                            <dd>{{user.mobileEmail}}
                                <i class="fa fa-check-circle text-success"></i>
                            </dd>
                        </dl>
                        <ng-template [ngIf]="user.address">
                            <dl>
                                <dt class="fs-7 text-grey-color">Address</dt>
                                <dd>{{user.address}}</dd>
                            </dl>
                        </ng-template>
                    </div>
                </div>
                <div class="mt-5">
                    <h6>ID Details</h6>
                </div>
                <div class="card">
                    <!-- <div class="card-body">
                        <dl>
                            <dt class="fs-7 text-grey-color">Aadhar Number</dt>
                            <dd>*******91 <i class="fa fa-check-circle text-success"></i></dd>
                            <dt class="fs-7 text-grey-color">PAN</dt>
                            <dd>*******91 <i class="fa fa-check-circle text-success"></i></dd>
                        </dl>
                        <dl>
                            <dt class="fs-7 text-grey-color">Professional License</dt>
                            <dd>*******91 <i class="fa fa-check-circle text-success"></i></dd>
                        </dl>
                    </div> -->
                </div>

                <h6 class="mt-5">Experience</h6>
                <div class="card">
                    <ng-template ngFor let-item [ngForOf]="experience">
                        <div class="card-body">
                            <h6>Associate Professor <i [ngClass]="item.attested ? 'fa fa-check-circle text-success' : 'fa fa-exclamation-circle text-warning'" ></i></h6>
                            <div>{{item.institute}} <i [ngClass]="item.attested ? 'fa fa-check-circle text-success' : 'fa fa-exclamation-circle text-warning'" ></i></div>
                            <div *ngIf="!item.working; else elseBlock1">{{item.startdate}} -
                                {{item.enddate}}</div>
                            <ng-template #elseBlock1>
                                <div>{{item.startdate}} - Current</div>
                            </ng-template>
                            <div class="fs-7 text-grey-color">Class: ITI Diploma</div>
                            <hr>
                        </div>
                    </ng-template>
                </div>

                <h6 class="mt-5">Education</h6>
                <div class="card">
                    <ng-template ngFor let-item [ngForOf]="education">
                        <div class="card-body">
                            <!-- <h6>{{item.degree}}<i class="fa fa-check-circle text-success"></i></h6> -->
                            <dl>
                                <dt class="fs-7 text-grey-color">{{item.institute}}</dt>

                                <dd *ngIf="!item.working; else elseBlock">
                                    {{item.startdate}} -
                                    {{item.enddate}}</dd>
                                <ng-template #elseBlock>
                                    <dd>{{item.startdate}} - Current</dd>
                                </ng-template>
                            </dl>
                        </div>
                    </ng-template>
                </div>

                <h6 class="mt-5">Certification</h6>
                <div class="card">
                    <!-- <div class="card-body">
                        <h6>Google IT Automation with Python Professional Certificate</h6>
                        <dl>
                            <dt class="fs-7 text-grey-color">Coursera</dt>
                            <dd>2019</dd>
                        </dl>
                    </div> -->
                </div>
            </div>

        </div>
    </div>
</div>


<!-- Add Education -->
<div class="modal right fade" id="addEducation" tabindex="-1" role="dialog" aria-labelledby="AddEducation">
    <div class="modal-dialog" role="document">
        <div class="modal-content">

            <div class="modal-header">
                <h5 class="modal-title" id="myModalLabel2">Add Education</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
            </div>

            <div class="modal-body">

                <json-schema-form [schema]="schema"  [layout]="form" framework="bootstrap-4"
                (onSubmit)="onEducationSubmit($event)">
            </json-schema-form>

                <!-- <form class="example-container" [formGroup]="educationForm">
                    <div class="pb-3">
                        <label mdbLabel class="form-label fw-bold fs-7" for="form1">Degree</label>
                        <mdb-form-control>
                            <input mdbInput type="text" id="form1" class="form-control" formControlName="degree"
                                mdbValidate />
                        </mdb-form-control>

                    </div>

                    <div class="pb-3">
                        <label mdbLabel class="form-label fw-bold fs-7" for="form1">Institute</label>
                        <mdb-form-control>
                            <input mdbInput type="text" id="form1" class="form-control" formControlName="institute"
                                mdbValidate />
                        </mdb-form-control>

                    </div>
                    <div class="form-check">
                        <input mdbCheckbox class="form-check-input" type="checkbox" value=true formControlName="working"
                            mdbValidate (change)="onWorkingChange()" />
                        <label class="form-check-label">
                            I currently studying here
                        </label>
                    </div>

                    <div class="form-group half">
                        <label mdbLabel class="form-label fw-normal fs-7">Start Date</label>
                        <div class="input-group">

                            <input class="form-control" placeholder="yyyy-mm-dd" name="dp" formControlName="startdate"
                                ngbDatepicker #startdate="ngbDatepicker">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary calendar" (click)="startdate.toggle()"
                                    type="button"></button>
                            </div>
                        </div>
                    </div>
                    <ng-template [ngIf]="!working">
                        <div class="form-group half">
                            <label mdbLabel class="form-label fw-normal fs-7">End Date</label>
                            <div class="input-group">

                                <input class="form-control" placeholder="yyyy-mm-dd" name="dp" formControlName="enddate"
                                    ngbDatepicker #enddate="ngbDatepicker">
                                <div class="input-group-append">
                                    <button class="btn btn-outline-secondary calendar" (click)="enddate.toggle()"
                                        type="button"></button>
                                </div>
                            </div>
                        </div>
                    </ng-template>

                    <div class="form-check">
                        <input mdbCheckbox class="form-check-input" type="checkbox" value="" formControlName="send"
                            mdbValidate />
                        <label class="form-check-label">
                            Send for verification
                        </label>
                    </div>



                    <button class="btn btn-primary text-end mt-3 fw-bold text-capitalize mr-2" data-dismiss="modal">Save
                        to
                        draft</button>
                    <button type="submit" (click)="onEducationSubmit()"
                        class="btn btn-primary text-end mt-3 fw-bold text-capitalize" data-dismiss="modal">Save</button>
                </form> -->
            </div>

        </div>
    </div>
</div>

<!-- Add Experience -->
<div class="modal right fade" id="addExperience" tabindex="-1" role="dialog" aria-labelledby="AddExperience">
    <div class="modal-dialog" role="document">
        <div class="modal-content">

            <div class="modal-header">
                <h5 class="modal-title" id="myModalLabel2">Add Experience</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
            </div>

            <div class="modal-body">

                <json-schema-form [schema]="schema"  [layout]="form" framework="bootstrap-4"
                (onSubmit)="onExperienceSubmit($event)">
            </json-schema-form>

                <!-- <form class="example-container" [formGroup]="educationForm">
                    <div class="pb-3">
                        <label mdbLabel class="form-label fw-bold fs-7" for="form1">Degree</label>
                        <mdb-form-control>
                            <input mdbInput type="text" id="form1" class="form-control" formControlName="degree"
                                mdbValidate />
                        </mdb-form-control>

                    </div>

                    <div class="pb-3">
                        <label mdbLabel class="form-label fw-bold fs-7" for="form1">Institute</label>
                        <mdb-form-control>
                            <input mdbInput type="text" id="form1" class="form-control" formControlName="institute"
                                mdbValidate />
                        </mdb-form-control>

                    </div>
                    <div class="form-check">
                        <input mdbCheckbox class="form-check-input" type="checkbox" value=true formControlName="working"
                            mdbValidate (change)="onWorkingChange()" />
                        <label class="form-check-label">
                            I currently studying here
                        </label>
                    </div>

                    <div class="form-group half">
                        <label mdbLabel class="form-label fw-normal fs-7">Start Date</label>
                        <div class="input-group">

                            <input class="form-control" placeholder="yyyy-mm-dd" name="dp" formControlName="startdate"
                                ngbDatepicker #startdate="ngbDatepicker">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary calendar" (click)="startdate.toggle()"
                                    type="button"></button>
                            </div>
                        </div>
                    </div>
                    <ng-template [ngIf]="!working">
                        <div class="form-group half">
                            <label mdbLabel class="form-label fw-normal fs-7">End Date</label>
                            <div class="input-group">

                                <input class="form-control" placeholder="yyyy-mm-dd" name="dp" formControlName="enddate"
                                    ngbDatepicker #enddate="ngbDatepicker">
                                <div class="input-group-append">
                                    <button class="btn btn-outline-secondary calendar" (click)="enddate.toggle()"
                                        type="button"></button>
                                </div>
                            </div>
                        </div>
                    </ng-template>

                    <div class="form-check">
                        <input mdbCheckbox class="form-check-input" type="checkbox" value="" formControlName="send"
                            mdbValidate />
                        <label class="form-check-label">
                            Send for verification
                        </label>
                    </div>



                    <button class="btn btn-primary text-end mt-3 fw-bold text-capitalize mr-2" data-dismiss="modal">Save
                        to
                        draft</button>
                    <button type="submit" (click)="onEducationSubmit()"
                        class="btn btn-primary text-end mt-3 fw-bold text-capitalize" data-dismiss="modal">Save</button>
                </form> -->
            </div>

        </div>
    </div>
</div>

<!-- Edit Education -->
<div class="modal right fade" id="editEducation" tabindex="-1" role="dialog" aria-labelledby="AddEducation">
    <div class="modal-dialog" role="document">
        <div class="modal-content">

            <div class="modal-header">
                <h5 class="modal-title" id="myModalLabel2">Edit Education</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
            </div>

            <div class="modal-body">

                <json-schema-form [schema]="schema" [layout]="form" framework="bootstrap-4"
                (onSubmit)="onEducationSubmit($event)">
            </json-schema-form>

                <!-- <form class="example-container" [formGroup]="educationForm">
                    <div class="pb-3">
                        <label mdbLabel class="form-label fw-bold fs-7" for="form1">Degree</label>
                        <mdb-form-control>
                            <input mdbInput type="text" id="form1" class="form-control" formControlName="degree"
                                mdbValidate />
                        </mdb-form-control>

                    </div>

                    <div class="pb-3">
                        <label mdbLabel class="form-label fw-bold fs-7" for="form1">Institute</label>
                        <mdb-form-control>
                            <input mdbInput type="text" id="form1" class="form-control" formControlName="institute"
                                mdbValidate />
                        </mdb-form-control>

                    </div>
                    <div class="form-check">
                        <input mdbCheckbox class="form-check-input" type="checkbox" value=true formControlName="working"
                            mdbValidate (change)="onWorkingChange()" />
                        <label class="form-check-label">
                            I currently studying here
                        </label>
                    </div>

                    <div class="form-group half">
                        <label mdbLabel class="form-label fw-normal fs-7">Start Date</label>
                        <div class="input-group">

                            <input class="form-control" placeholder="yyyy-mm-dd" name="dp" formControlName="startdate"
                                ngbDatepicker #startdate="ngbDatepicker">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary calendar" (click)="startdate.toggle()"
                                    type="button"></button>
                            </div>
                        </div>
                    </div>
                    <ng-template [ngIf]="!working">
                        <div class="form-group half">
                            <label mdbLabel class="form-label fw-normal fs-7">End Date</label>
                            <div class="input-group">

                                <input class="form-control" placeholder="yyyy-mm-dd" name="dp" formControlName="enddate"
                                    ngbDatepicker #enddate="ngbDatepicker">
                                <div class="input-group-append">
                                    <button class="btn btn-outline-secondary calendar" (click)="enddate.toggle()"
                                        type="button"></button>
                                </div>
                            </div>
                        </div>
                    </ng-template>

                    <div class="form-check">
                        <input mdbCheckbox class="form-check-input" type="checkbox" value="" formControlName="send"
                            mdbValidate />
                        <label class="form-check-label">
                            Send for verification
                        </label>
                    </div>



                    <button class="btn btn-primary text-end mt-3 fw-bold text-capitalize mr-2" data-dismiss="modal">Save
                        to
                        draft</button>
                    <button type="submit" (click)="onEducationSubmit()"
                        class="btn btn-primary text-end mt-3 fw-bold text-capitalize" data-dismiss="modal">Save</button>
                </form> -->
            </div>

        </div>
    </div>
</div>